# Modelling COVID-19 in New South Wales using Covasim

The main code is in `covasim-australia/applications/nsw/`

## Usage

1. Generate a population file representing the NSW population by running `make_nsw_pop.py`. This will save a file called `nswppl.pop` to the `results` folder. NB, since results can be very large, please don't commit them to the repo. 
2. The file `run_nsw.py` can be configured to (1) calibrate the model, and (2) run scenarios. Choose which of these you want to do by setting `whattorun`. If you set `dosave = True`, the simulations will be saved to `results/nsw_{whattorun}.obj`. 
3. Run `plot_nsw_calibration.py` and `plot_nsw_scenarios.py` to load the `*.obj` files generated by the previous step and generate output plots.

## Generalisations

The NSW analysis can be applied to other settings by following these steps. Suppose you want to model a new location `myloc`:
1. Go into covasim-australia/data/epi_data_Australia.csv and add a couple of placeholder rows for `myloc`. These are not used, but the logic of creating a population is inexplicably bound up with the reading in of this file, so there need to be some values here.
2. Go into covasim-australia/data/input_data_Australia.xlsx and add rows for `myloc` throughout, copying what's in NSW and Victoria. **IMPORTANT**: the only values you actually need to input correctly here are those in the sheets `age_sex` and `households`. Everything else gets overwritten later, but again, the script doesn't run without placeholder values. 